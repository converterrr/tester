-- ✅ Required Services
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- ✅ Load Spawner Library
local Spawner = loadstring(game:HttpGet("https://raw.githubusercontent.com/ataturk123/GardenSpawner/refs/heads/main/Spawner.lua"))()

-- ✅ Sample Data (You can expand these)
local pets = { "Raccoon", "Goose", "Sunflower Cat", "Cactus Dog" }
local seeds = { "Sunflower", "Carrot", "Candy Blossom", "Bamboo" }
local fruits = { "Apple", "Blueberry", "Watermelon", "Choco Fruit" }
local mutations = { "Burning", "Glowing", "Frozen", "Rainbow" }

-- ✅ GUI Setup
local ScreenGui = Instance.new("ScreenGui", PlayerGui)
ScreenGui.Name = "GardenSpawnerUI"

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 300, 0, 350)
Frame.Position = UDim2.new(0.05, 0, 0.1, 0)
Frame.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true

local function createDropdown(name, items, yPos)
	local label = Instance.new("TextLabel", Frame)
	label.Size = UDim2.new(1, -20, 0, 20)
	label.Position = UDim2.new(0, 10, 0, yPos)
	label.Text = name
	label.TextColor3 = Color3.new(1, 1, 1)
	label.BackgroundTransparency = 1
	label.TextSize = 14
	label.Font = Enum.Font.SourceSans

	local dropdown = Instance.new("TextButton", Frame)
	dropdown.Size = UDim2.new(1, -20, 0, 30)
	dropdown.Position = UDim2.new(0, 10, 0, yPos + 20)
	dropdown.Text = "Select..."
	dropdown.TextColor3 = Color3.new(1, 1, 1)
	dropdown.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
	dropdown.TextSize = 14
	dropdown.Font = Enum.Font.SourceSans

	local selected = nil
	local menuOpen = false

	dropdown.MouseButton1Click:Connect(function()
		if menuOpen then return end
		menuOpen = true
		for i, item in pairs(items) do
			local choice = Instance.new("TextButton", Frame)
			choice.Size = UDim2.new(1, -40, 0, 20)
			choice.Position = UDim2.new(0, 20, 0, yPos + 50 + (i - 1) * 20)
			choice.Text = item
			choice.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
			choice.TextColor3 = Color3.new(1, 1, 1)
			choice.Font = Enum.Font.SourceSans
			choice.TextSize = 14

			choice.MouseButton1Click:Connect(function()
				dropdown.Text = item
				selected = item
				for _, btn in ipairs(Frame:GetChildren()) do
					if btn:IsA("TextButton") and btn.Position.Y.Offset >= yPos + 50 then
						btn:Destroy()
					end
				end
				menuOpen = false
			end)
		end
	end)

	return function() return selected end
end

local function createButton(name, yPos, onClick)
	local button = Instance.new("TextButton", Frame)
	button.Size = UDim2.new(1, -20, 0, 30)
	button.Position = UDim2.new(0, 10, 0, yPos)
	button.Text = name
	button.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
	button.TextColor3 = Color3.new(1, 1, 1)
	button.TextSize = 14
	button.Font = Enum.Font.SourceSans

	button.MouseButton1Click:Connect(onClick)
end

-- ✅ Create Dropdowns and Buttons
local getSelectedPet = createDropdown("Select Pet", pets, 10)
createButton("Spawn Pet", 100, function()
	local pet = getSelectedPet()
	if pet then
		Spawner.SpawnPet(pet, 1, 1)
	end
end)

local getSelectedSeed = createDropdown("Select Seed", seeds, 150)
createButton("Spawn Seed", 240, function()
	local seed = getSelectedSeed()
	if seed then
		Spawner.SpawnSeed(seed)
	end
end)

local getSelectedFruit = createDropdown("Select Fruit", fruits, 290)
createButton("Spawn Fruit", 380, function()
	local fruit = getSelectedFruit()
	if fruit then
		Spawner.Spin(fruit)
	end
end)

-- You can add mutation dropdown/spawn buttons similarly
